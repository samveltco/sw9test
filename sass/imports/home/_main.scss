.search_actions {
    display: flex;
    justify-content: space-between;
    gap: 12px;

    .btns_block {
        display: flex;
        gap: 16px;
    }
}

.search_form {
    display: flex;
    gap: 8px;

    .field_block {
        flex: 0 0 217px;
        max-width: 217px;
    }
}

.search_btn {
    border: 1px solid rgba($textColor, 0.12);
    @extend %centerBlock;
    padding: 0;
    min-width: 44px;
    height: 40px;
    background: $siteColor;
    color: $mainBg;
    border-radius: 20px;
    @extend %lightHover;

    &:before {
        display: block;
        font-size: 1.6rem;
    }
}

.switch_actions {
    margin-top: 36px;
    display: flex;
    align-items: center;
    background: $coverBg;
    border: 1px solid $blue2;
    border-radius: 14px;
    padding: 10px 16px;

    .actions_list {
        display: flex;
        border: 1px solid rgba($textColor, 0.12);
        border-radius: 20px;
        @include overHidden;

        button {
            width: 40px;
            height: 38px;
            background: $blue2;
            color: inherit;
            border: solid rgba($textColor, 0.12);
            border-width: 0 0 0 1px;
            @include fontSize(16);
            @extend %lightHover;

            &:before {
                display: block;
            }

            &:first-child {
                border-left-width: 0;
            }
        }
    }

    .check_block {
        margin-left: 24px;
    }
}

.switch_btns {
    display: flex;
    gap: 20px;
    margin-right: auto;

    button {
        background: transparent;
        padding: 0 8px 4px;
        border: none;
        border-bottom: 1px solid;
        font-weight: 700;
        @include fontSize(12);
        color: rgba($white, 0.5);
        @extend %lightHover;

        &.selected {
            color: $secondColor;
            pointer-events: none;
        }
    }

    .count_block {
        font-weight: 400;
    }
}

.filter_paging {
    display: flex;
    align-items: center;
    margin-top: 30px;
    padding: 0 16px;
    gap: 40px;
}

.sorting_block {
    display: flex;
    align-items: center;
    gap: 40px;
    color: $light;

    select {
        @include fontSize(10);
        background: transparent;
        color: inherit;
        border: none;
    }
}

.sort_select {
    display: flex;
    align-items: center;
    gap: 4px;
}

.sort_label {
    display: flex;
    align-items: center;
    @include fontSize(12);
    font-weight: 700;
    gap: 4px;

    &:before {
        display: block;
    }
}

.sort_type {
    display: flex;
    align-items: center;
    position: relative;
    @extend %textUnSelect;
    @extend %lightHover;
    cursor: pointer;

    &:before {
        display: block;
        content: "";
        flex: 0 0 23px;
        height: 10px;
        border-radius: 5px;
        background: $coverBg;
        margin-right: 4px;
    }

    &:after {
        @include psevdoAbs;
        aspect-ratio: 1;
        border-left: 8px solid;
        border-radius: 50%;
        left: 1px;
        top: 50%;
        margin-top: -4px;
        @include animStyle(margin 0.3s);
        @extend %noBlink;
        will-change: margin;
    }

    &:has(:checked):after {
        margin-left: 14px;
    }
}

.filter_block {
    display: flex;
    align-items: center;

    &:before {
        display: block;
        height: 17px;
        border-left: 1px solid $secondColor;
        opacity: 0.1;
        content: "";
        margin: 0 4px;
        order: 1;
    }

    &:after {
        position: fixed;
        content: "";
        top: 0;
        left: 0;
        width: 100%;
        height: 0;
        opacity: 0;
        background: rgba($mainBg, 0.8);
        @include animStyles(height 0s 0.5s, opacity 0.5s);
        z-index: 101;
    }

    &:has(.filter_inner.opened):after {
        height: 100%;
        opacity: 1;
        @include animStyles(height 0s 0s, opacity 0.5s);
    }
}

.filter_btn,
.reset_btn {
    border: none;
    background: transparent;
    display: flex;
    align-items: center;
    color: $light;
    @include fontSize(12);
    @extend %lightHover;
    gap: 4px;
}

.filter_btn {
    padding: 0 8px;
    font-weight: 700;

    .count_block {
        font-weight: 400;
    }
}

.reset_btn {
    order: 2;
    padding: 0;

    &:disabled {
        pointer-events: none;
        opacity: 0.5;
    }
}

.filter_inner {
    background: $coverBg;
    border-radius: 20px 0 0 20px;
    width: 0;
    @include overHidden;
    z-index: 102;
    padding: 40px 0;
    right: 0;
    height: 100%;
    display: flex;
    flex-direction: column;
    position: fixed;
    top: 0;
    @include animStyle(width 0.5s);

    &.opened {
        width: 514px;
    }

    .filter_shadow {
        background: linear-gradient(180deg, rgba(25, 40, 51, 0) 0%, #192833 62.28%);
        position: absolute;
        left: 0;
        right: 30px;
        height: 214px;
        opacity: 0;
        pointer-events: none;
        z-index: 1;
        @include animStyle(opacity 0.15s);

        &.top_shadow {
            top: 0;
            @extend %horizontalRotate;
        }

        &.bottom_shadow {
            bottom: 0;
        }

        &.showed {
            opacity: 1;
        }
    }

    .actions_block {
        @include zIndex(3);
        display: flex;
        justify-content: flex-end;
        gap: 16px;
        padding: 24px 40px 0;
        width: 514px;
    }
}

.filter_head {
    display: flex;
    align-items: center;
    gap: 20px;
    width: 514px;
    padding: 0 40px 24px;
    @include zIndex(3);

    .close_btn {
        margin-left: auto;
        order: 3;
    }

    .reset_btn {
        @include fontSize(14);

        &:before {
            font-size: 1.6rem;
        }
    }

    .filter_name {
        display: flex;
        align-items: center;
        color: $light;
        @include fontSize(20);
        font-weight: 700;
        padding: 0 8px;
        gap: 4px;

        &:before {
            display: block;
            font-size: 2.4rem;
        }

        .count_block {
            font-weight: 400;
        }
    }
}

.filter_content {
    flex: 1;
    width: 494px;
    position: relative;
    overflow-x: hidden;
    overflow-y: auto;
    padding-left: 40px;
    padding-right: 20px;
    margin-right: 20px;
    @include customScroll(4px, 2px, 2px, $mainBg, $blue2);
    //.actions_block {
    //    position: sticky;
    //    bottom: 0;
    //    display: flex;
    //    justify-content: flex-end;
    //    gap: 16px;
    //    padding-top: 24px;
    //    background: $coverBg;
    //}
    //&::-webkit-scrollbar-track {
    //    margin-bottom: 64px;
    //}
}

.cards_list {
    margin-top: 40px;
}

.cards_list {
    margin-top: 40px;

    .shadow_block {
        position: fixed;
        z-index: 5;
        pointer-events: none;
        height: 161px;
        right: 0;
        left: 85px;
        background: linear-gradient(180deg, rgba(27, 36, 49, 0) 0%, #1B2431 100%);
        opacity: 0;
        @include animStyle(opacity 0.15s);

        &.bottom_shadow {
            bottom: 0;
        }

        &.top_shadow {
            top: 71px;
            @extend %horizontalRotate;
        }

        &.showed {
            opacity: 1;
        }
    }
}

.card_item {
    background: $coverBg;
    border: 1px solid $blue2;
    border-radius: 14px;
    padding: 20px 16px;

    &:has(:checked) {
        border-color: $secondColor;
    }

    &:not(:first-child) {
        margin-top: 20px;
    }

    .card_body {
        display: flex;
        align-items: flex-start;
    }

    .card_main {
        flex: 0 0 23%;
        max-width: 23%;
        margin-right: auto;
    }

    .card_title {
        color: $white;
        font-weight: 700;
    }

    .card_details {
        @extend %standardList;
        @include fontSize(12);

        li {
            padding-top: 4px;
            word-break: break-word;
        }

        &:first-child {
            padding-top: 21px;
        }
    }

    .detail_label {
        font-weight: 700;
        word-break: normal;
    }

    .start_end,
    .price_info {
        flex: 0 0 14.5%;
        max-width: 14.5%;
        margin-right: auto;

    }

    .assign_info {
        flex: 0 0 19.5%;
        max-width: 19.5%;
        margin-right: auto;
    }

    .price_size {
        @include fontSize(10);

        span {
            font-size: 200%;
            color: $secondColor;
            font-weight: 700;
        }
    }

    .calc_info {
        margin-top: 4px;
        @include fontSize(10);
    }

    .card_statuses {
        display: flex;
        flex-wrap: wrap;
        gap: 16px;
        margin-right: 24px;
    }

    .status_block {
        @include fontSize(12);
        font-weight: 600;
        color: $white;
        border-radius: 12px;
        padding: 2px 8px;

        &.uncomfirmed {
            background: $siteColor;
        }

        &.on_hold {
            background: $error;
        }
    }

    .check_block {
        margin-top: 3px;
    }

    .card_footer {
        margin-top: 20px;
        display: flex;
        align-items: center;
        justify-content: space-between;
        flex-wrap: wrap;
        gap: 20px;
    }

    .messages_location {
        display: flex;
        align-items: center;
        gap: 8px;
        @include fontSize(12);
    }

    .message_count {
        color: $secondColor;
        text-decoration: underline;
    }

    a.message_count,
    button.message_count {
        @extend %lightHover;
    }

    button.message_count {
        @extend %linkTypeBtn;
    }

    .card_actions {
        display: flex;
        align-items: center;
        margin-left: auto;
        gap: 16px;
    }

}

@include mediaTo($size1280) {
    .search_actions {
        .btns_block {
            flex: 1;
            justify-content: flex-end;
        }

        .standard_btn {
            font-size: 0;
            justify-content: center;
            gap: 0;
            flex: 1;
            max-width: 120px;

            &:before {
                font-size: 1.6rem;
            }
        }
    }

    .card_item {
        .card_body {
            padding-top: 34px;
            position: relative;
        }

        .check_block {
            position: absolute;
            top: 0;
            right: 0;
        }

        .card_statuses {
            position: absolute;
            top: 0;
            right: 16px;
        }

        .card_actions {
            flex: 1;
            justify-content: flex-end;
        }

        .primary_btn {
            font-size: 0;
            justify-content: center;
            gap: 0;
            flex: 1;
            max-width: 120px;

            &:before {
                font-size: 1.6rem;
            }
        }
    }
}
body:has(.card_option){
    .order_details .order_list ~{
        .green_btn,
        .dark_btn,
        .block_user{
            margin-top: 25px;
        }
    }
}
.order_details {
    .popup_title {
        display: flex;
        align-items: center;
        flex-direction: row-reverse;

        &:before {
            padding-left: 20px;
        }
    }

    .popup_body {
        .standard_btn {
            width: max-content;
            margin-left: auto;

            &.block_user {
                background: $error;
                color: $white;
            }
        }

        .block_note {
            margin-top: 24px;

            textarea {
                height: 113px;

            }

            .field_col {
                color: $white;
                font-weight: 700;
                gap: 16px;
                display: flex;
                flex-direction: column;
            }
        }

        .block_label {
            color: $white;
            font-weight: 700;
            margin-bottom: 10px;
        }

        .contractor_info {
            flex: 1;

            a {
                display: inline-block;
                vertical-align: top;
                color: $light;
                text-decoration: underline;
                max-width: 100%;
                word-break: break-word;
                @extend %lightHover;
            }
        }

        .about_user {
            display: flex;
            gap: 20px;
            padding-bottom: 20px;

            .detail_label {
                display: flex;

                &:before {
                    margin-right: 5px;
                    margin-top: 2px;
                    font-size: 1.7rem;
                    line-height: 16px;
                }

                color: $B2;
            }
        }

        .profile_actions {
            padding-top: 20px;
            display: flex;
            justify-content: flex-end;
            gap: 16px;


            .standard_btn {
                margin-left: 0;
            }
        }

        .card_details {
            @include fontSizeHeight(14, 20);
            padding-top: 0;
        }

        .contractor_contacts {
            @extend %standardList;
            padding-bottom: 20px;

            li {
                display: flex;
                gap: 16px;

                &:not(:first-child) {
                    padding-top: 4px;
                }
            }

        }

    }

    .note_inner {
        display: flex;

        .contractor_info {
            color: $textColor;

            span {
                margin-left: 15px;
            }
        }
    }

    .line_blocks {
        border-bottom: 1px solid rgba($grayCf, 12%);
        padding-bottom: 20px;
        margin: 20px 0;

        &:first-child {
            .type_list {
                justify-content: unset;
            }
        }

        a,
        button {
            @extend %siteColorHover;
        }

        .to_map {
            background: $mainBg;
            border-radius: 20px;
            padding: 10px 20px;
            color: rgba($blue04, 80%);
            @include fontSizeHeight(14, 20);
            border: 1px solid rgba($grayCf, 12%);
            width: 100%;
            max-width: max-content;
            display: flex;
        }

        &:has(.report_btn) {
            .block_label {
                padding-right: 140px;
            }
        }

        &:has(.to_map) {
            display: flex;
            align-items: baseline;
            justify-content: space-between;
        }

        &:has(table) {
            overflow-x: auto;
            overflow-y: hidden;
            @include customScroll(4px, 2px, 2px, $mainBg, $blue2);

            table {
                margin-bottom: 0;

                td {
                    white-space: nowrap;
                }
            }

            a {
                color: $textColor;
                @extend %siteColorHover;
                @include fontSizeHeight(12, 20);

            }
        }

        &:has(.time_block) {
            .info_list span:first-child {
                min-width: unset;
                max-width: unset;
            }

            .block_label {
                padding-right: 140px;
            }

            .time_inner {
                margin-top: -30px;
            }
        }

        &:has(.add_btns:nth-of-type(2)) {
            .fields_group {
                display: flex;
                flex-wrap: wrap;
                gap: 0 30px;
            }

        }
    }

    .new_note {
        opacity: 1;
        overflow: unset;

        .dark_btn {
            color: rgba($textColor, 80%);
        }
    }

    .time_block {
        display: flex;
        align-items: flex-start;
        justify-content: space-between;

        .block_type {
            background: $mainBg;
            border-radius: 20px;
            padding: 10px 20px;
            color: rgba($blue04, 80%);
            @include fontSizeHeight(14, 20);
            border: 1px solid rgba($grayCf, 12%);
            width: 100%;
            max-width: max-content;
            display: flex;
            margin-bottom: 5px;
            background: transparent;
        }

        .total_block {
            @include fontSizeHeight(12, 20);
            color: $textColor;
            font-weight: 275;
            display: flex;
            justify-content: space-between;

            span {
                margin-left: 5px;
            }
        }
    }

    .projects_list {
        padding: 0 0 0 30px;
        margin: 20px 0;

        li {
            margin-bottom: 15px;
        }
    }

    .type_list {
        @extend %standardList;
        display: flex;
        flex-wrap: wrap;
        margin: 20px -10px 0;
        justify-content: flex-end;

        li {
            padding: 0 10px;
            margin-bottom: 8px;
        }

        a,
        button {
            @extend %siteColorHover;
        }

        .block_type {
            background: $mainBg;
            border-radius: 20px;
            padding: 10px 20px;
            color: rgba($blue04, 80%);
            @include fontSizeHeight(14, 20);
            border: 1px solid rgba($grayCf, 12%);
            width: 100%;
            max-width: max-content;
            display: flex;
            background: transparent;

        }
    }

    .contractor_head {
        @extend %standardList;

        li {
            margin-bottom: 4px;
            display: flex;

            span:first-child {
                flex: 0 0 100px;
                max-width: 100px;
            }

            span:last-child {
                font-weight: 400;
                color: $blue04;
            }
        }
    }

    .card_details {
        @extend %standardList;
        @include fontSize(12);

        li {
            padding-top: 4px;
            word-break: break-word;
        }

        &:first-child {
            padding-top: 21px;
        }
    }

    .order_title {
        display: flex;
        justify-content: space-between;
        color: $white;
        font-weight: 700;
        margin-bottom: 8px;
    }

    .order_status {
        color: $B1;
        padding-left: 10px;
        font-weight: 700;
    }

    .order_state {
        @include fontSizeHeight(12, 20);
        color: $textColor;
        font-weight: 275;
        margin-bottom: 8px;

        a,
        button {
            @extend %opacityHover;
            background: none;
            border: none;
            margin: 0;
            padding: 0;
        }

        a,
        > div,
        span {
            margin-right: 8px;
            color: $blue04;
            text-decoration: underline;
        }
    }

    .by_order {
        @include fontSizeHeight(12, 20);
        color: $textColor;
        font-weight: 275;
        margin-bottom: 24px;

        > div,
        span {
            margin-left: 16px;
        }
    }

    .order_list {
        @extend %standardList;
        @include fontSizeHeight(12, 20);
        color: $textColor;
        font-weight: 275;

        .special {
            font-weight: 700;
            color: $error;
        }

        li {

            display: flex;
            margin: 0 -10px 8px;

            &:first-child {
                @include fontSizeHeight(14, 23);
                color: $white;
                font-weight: 700;

                span:last-child {
                    color: $textColor;
                }
            }

            span,
            div,
            a,
            button,
            > div {
                min-width: 100px;
                padding: 0 10px;
            }

            //span:first-child,
            //div:first-child,
            //a:first-child,
            //button:first-child,
            //> div:first-child {
            //    margin-right: 16px;
            //}
        }
    }

    .detail_label {
        color: $light;
        font-weight: 700;
    }


    .info_list {
        @extend %standardList;
        @include fontSizeHeight(12, 20);
        color: $textColor;
        font-weight: 275;

        .special {
            font-weight: 700;
            color: $error;
        }

        li {
            margin: 0 -10px 8px;
            display: flex;
        }

        span,
        div,
        a,
        button,
        > div {
            min-width: 80px;
            padding: 0 10px;
            line-break: anywhere;
        }

        span:first-child,
        div:first-child,
        a:first-child,
        button:first-child,
        > div:first-child {
            max-width: 110px;
            min-width: 100px;
            line-break: anywhere;
        }
    }

    .deployment_section {
        background: $blue2;
        padding: 16px;

        .page_row {
            margin-bottom: 16px;
        }

        .left_col,
        .right_col {
            padding: 0 12px;
            @include colSize(6);

        }

        .info_block {
            @include fontSizeHeight(12, 20);
            color: $textColor;
            font-weight: 275;
            line-break: anywhere;

            > span {
                display: flex;
                justify-content: end;
                margin-bottom: 7px;

                span {
                    padding-left: 10px;
                }
            }
        }

        .left_col {
            .block_label {
                color: $blue04;
                text-align: end;
            }
        }
    }


    .history_section {
        background: rgba($blue23, 30%);
        padding: 8px 16px;
        margin-bottom: 8px;

        .history_list {
            @extend %standardList;
            @include fontSizeHeight(12, 20);
            color: $textColor;
            font-weight: 400;

            .special {
                font-weight: 700;
                color: $error;
            }

            li {
                margin: 0 0 8px;
                display: flex;
            }

            span,
            div,
            a,
            button,
            > div {
                min-width: 80px;
                line-break: anywhere;
                display: flex;
                flex-direction: column;
            }

            span:first-child,
            div:first-child,
            a:first-child,
            button:first-child,
            > div:first-child {
                max-width: 150px;
                width: 100%;
                padding-right: 10px;
                min-width: 110px;
                font-weight: 700;
                line-break: anywhere;
            }
        }

    }

    .card_statuses {
        display: flex;
        flex-wrap: wrap;
        gap: 30px;
        margin-top: 15px;
        margin-right: 0;
    }

    .status_block {
        @include fontSizeHeight(12, 15);
        font-weight: 275;
        color: $textColor;
        border-radius: 12px;
        padding: 2px 0;
        display: flex;
        align-items: center;
        position: relative;

        &:last-child {
            color: $light;

            &:after {
                content: "|";
                position: absolute;
                left: -10px;
                color: $light;
            }
        }

        &:before {
            font-size: 2.4rem;
            margin-right: 8px;
            color: $light;
        }
    }

    .client_title {
        color: $blue04;
    }

    .report_btn {
        background: $mainBg;
        border-radius: 20px;
        padding: 10px 20px;
        color: rgba($blue04, 80%);
        @include fontSizeHeight(14, 20);
        border: 1px solid rgba($grayCf, 12%);
        width: 100%;
        max-width: max-content;
        display: flex;
        margin-bottom: 5px;
        margin-left: auto;
        margin-top: -35px;
    }

    .previous_list {
        @extend %standardList;

        li {
            border-top: 1px solid rgba($grayCf, 12%);
            padding: 8px 0;

            &:last-child {
                border-bottom: 0;
            }

            &.cancel_block {
                .phone_block,
                .total_block,
                .user_block {
                    color: $error;
                }
            }
        }

        .standard_btn {
            background: $B1;

            &.block_user {
                background: $error;
                @extend %opacityHover;

                color: $white;
            }
        }
    }

    .top_block {
        display: flex;
        justify-content: space-between;
        @include fontSizeHeight(12, 20);
        color: $textColor;
        gap: 15px;

        .user_block {
            display: flex;
            flex-direction: column;
        }

        .email_block {
            color: $light;
            display: initial;
            width: 100%;
            max-width: max-content;
        }

        .phone_block {
            color: $white;
            display: initial;
            width: 100%;
            max-width: max-content;
        }
    }


    .bottom_block {
        display: flex;
        align-items: flex-end;
        justify-content: space-between;
        margin-top: 10px;
        @include fontSizeHeight(12, 20);
        color: $textColor;
        gap: 15px;
    }

    .validation_btn {
        background: $mainBg;
        border-radius: 20px;
        padding: 10px 20px;
        color: rgba($blue04, 80%);
        @include fontSizeHeight(14, 20);
        border: 1px solid rgba($grayCf, 12%);
        width: 100%;
        max-width: max-content;
        display: flex;
        background: transparent;
        margin-left: auto;
        margin-top: 20px;

    }

    .line_blocks:has(.filter_fields,  .validation_btn){
        .block_label{
            margin-bottom: 20px;
        }
        .standard_btn.light_btn{
            margin-top: 20px;
        }
        .info_list{
            margin-bottom: 25px;
        }
    }

}

.card_option {
    border: 1px solid $white;
    padding: 4px 8px;
    margin-bottom: 4px;
    display: flex;
    width: 100%;
    max-width: max-content;
}

.green_btn.icon_checkbox {
    &:before {
        font-size: 1.7rem;
    }
}